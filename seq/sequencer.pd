#N canvas 218 25 1062 747 12;
#X obj 193 64 inlet tempo;
#X obj 245 495 outlet;
#X floatatom 193 93 5 0 0 0 - - - 0;
#N canvas 527 494 450 278 (subpatch) 0;
#X array seqKick 32 float 3;
#A 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3
0;
#X coords 0 0 32 4 224 40 1 0 0;
#X restore 516 199 graph;
#N canvas 527 494 450 278 (subpatch) 0;
#X array seqSnare 32 float 3;
#A 0 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0
3;
#X coords 0 0 32 4 224 40 1 0 0;
#X restore 516 259 graph;
#N canvas 179 204 450 278 (subpatch) 0;
#X array seqHitHat 32 float 3;
#A 0 3 3 3 0 0 3 3 0 3 0 3 3 0 3 3 3 3 0 3 3 3 3 3 0 3 0 0 3 3 0 0
0;
#X coords 0 0 32 4 224 40 1 0 0;
#X restore 516 319 graph;
#X obj 104 126 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 294 7 ctlin;
#X obj 310 32 sel 64;
#X text 320 51 Reset sequencer pressing the SUSTAIN button, f 24;
#X obj 104 22 notein 1;
#X obj 104 46 pack f f;
#X obj 104 94 sel 127;
#X obj 104 70 route 91;
#X msg 193 151 tempo \$1 permin;
#N canvas 307 61 959 711 sequencerLight 1;
#X obj 299 391 makenote, f 16;
#X floatatom 299 254 5 0 0 0 - - - 0;
#X msg 408 332 125;
#X obj 299 281 expr 32-(imodf($f1/8) - modf($f1/8))*8;
#X obj 42 18 inlet midiNote;
#X obj 181 18 inlet sequencerStep;
#X obj 42 108 pack f f, f 25;
#X obj 181 46 t b f, f 9;
#X obj 42 47 ../softKeySelector;
#X msg 42 266 symbol seqKick;
#X msg 93 237 symbol seqSnare;
#X msg 144 208 symbol seqHitHat;
#X msg 455 328 symbol seqBass;
#X listbox 299 454 20 0 0 0 - - - 0;
#X obj 299 425 pack f f, f 16;
#X msg 353 332 5;
#N canvas 27 73 508 484 seqNotes 0;
#X obj 198 36 inlet;
#X obj 344 160 array get;
#X obj 311 219 until;
#X obj 324 302 list store;
#X obj 344 186 t b b l;
#X obj 311 244 f;
#X obj 349 245 + 1;
#X msg 368 219 0, f 2;
#X msg 311 275 get \$1 1;
#X msg 198 111 0;
#X msg 264 114 -1;
#X obj 198 69 t b b b s, f 29;
#X obj 53 303 expr $f1 + 8*(4 - 2 * imodf($f1/8));
#X obj 209 347 pack f f;
#X obj 160 236 f 0;
#X obj 224 234 + 1, f 4;
#X floatatom 160 260 5 0 0 0 - - - 0;
#X floatatom 331 103 5 0 0 0 - - - 0;
#X obj 160 155 t b;
#X obj 209 387 outlet;
#X obj 73 240 select 31;
#X connect 0 0 11 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 13 1;
#X connect 3 1 2 1;
#X connect 4 0 2 0;
#X connect 4 1 7 0;
#X connect 4 2 3 1;
#X connect 5 0 6 0;
#X connect 5 0 8 0;
#X connect 5 0 18 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 1 0;
#X connect 9 0 14 1;
#X connect 10 0 1 1;
#X connect 11 0 9 0;
#X connect 11 1 10 0;
#X connect 11 2 17 0;
#X connect 11 3 1 2;
#X connect 12 0 13 0;
#X connect 13 0 19 0;
#X connect 14 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 14 1;
#X connect 16 0 12 0;
#X connect 16 0 20 0;
#X connect 17 0 14 1;
#X connect 18 0 14 0;
#X restore 42 315 pd seqNotes;
#X obj 42 179 sel 1 2 3 4 5, f 37;
#X obj 76 613 ../LedOnOff;
#X text 362 136 32-(imodf($f1/8) - modf($f1/8))*8;
#X text 363 30 This formula takes as input the MIDI note from the button
matrix and outputs the relative step for the sequencer., f 70;
#X text 364 63 $f1 + 8*(4 - 2 * imodf($f1/8));
#X text 361 59 This one in the inverse \, from a value in the sequence
to the relative MIDI note.;
#X msg 100 495 reset;
#X obj 298 220 route 0;
#X connect 0 0 14 0;
#X connect 0 1 14 1;
#X connect 1 0 3 0;
#X connect 2 0 0 2;
#X connect 3 0 0 0;
#X connect 4 0 8 0;
#X connect 5 0 7 0;
#X connect 6 0 17 0;
#X connect 7 0 6 0;
#X connect 7 0 2 0;
#X connect 7 0 15 0;
#X connect 7 1 6 1;
#X connect 8 0 6 0;
#X connect 9 0 16 0;
#X connect 10 0 16 0;
#X connect 11 0 16 0;
#X connect 13 0 18 0;
#X connect 14 0 13 0;
#X connect 15 0 0 1;
#X connect 16 0 18 0;
#X connect 17 0 9 0;
#X connect 17 1 10 0;
#X connect 17 2 11 0;
#X connect 17 5 24 0;
#X connect 23 0 18 0;
#X connect 24 0 1 0;
#X restore 77 643 pd sequencerLight;
#N canvas 14 177 561 504 counter 0;
#X obj 109 45 inlet;
#X obj 109 97 f 0;
#X obj 173 95 + 1, f 4;
#X floatatom 109 121 5 0 0 0 - - - 0;
#X floatatom 70 64 5 0 0 0 - - - 0;
#X obj 109 151 outlet;
#X obj 22 8 inlet;
#X obj 22 36 t b;
#X obj 22 101 select 31;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 0 8 0;
#X connect 4 0 1 1;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X restore 105 219 pd counter;
#X f 13;
#X floatatom 105 243 5 0 0 0 - - - 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array steps 32 float 3;
#A 0 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
24 25 26 27 28 29 30 31;
#X coords 0 0 32 31 224 32 1 0 0;
#X restore 516 99 graph;
#X msg 536 18 \; steps 0 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17
18 19 20 21 22 23 24 25 26 27 28 29 30 31, f 36;
#N canvas 440 465 450 278 (subpatch) 0;
#X array zeros 32 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0;
#X coords 0 0 32 1 224 32 1 0 0;
#X restore 516 149 graph;
#X obj 364 495 outlet;
#X obj 490 495 outlet;
#X obj 193 180 metro 0.125 60 permin;
#X obj 193 120 / 2;
#X obj 11 42 inlet start;
#X obj 245 447 tabread seqKick;
#X obj 364 447 tabread seqSnare;
#X obj 490 447 tabread seqHitHat;
#X obj 245 471 sel 3;
#X obj 364 471 sel 3;
#X obj 490 471 sel 3;
#X msg 809 21 \; seqKick 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0
3 0 3 0 3 0 3 0 3 0 3 0 \; seqSnare 0 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0
3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 \; seqHitHat 0 3 3 3 0 0 3 3 0 3
0 3 3 0 3 3 3 3 0 3 3 3 3 3 0 3 0 0 3 3 0 0 0 \;, f 26;
#X msg 310 85 \; seqKick const 0 \; seqSnare const 0 \; seqHitHat const
0, f 20;
#X connect 0 0 2 0;
#X connect 2 0 24 0;
#X connect 6 0 16 0;
#X connect 6 0 23 0;
#X connect 7 1 8 0;
#X connect 8 0 33 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 6 0;
#X connect 13 0 12 0;
#X connect 13 1 15 0;
#X connect 14 0 23 0;
#X connect 16 0 17 0;
#X connect 17 0 26 0;
#X connect 17 0 27 0;
#X connect 17 0 28 0;
#X connect 17 0 15 1;
#X connect 23 0 16 1;
#X connect 24 0 14 0;
#X connect 25 0 6 0;
#X connect 26 0 29 0;
#X connect 27 0 30 0;
#X connect 28 0 31 0;
#X connect 29 0 1 0;
#X connect 30 0 21 0;
#X connect 31 0 22 0;
